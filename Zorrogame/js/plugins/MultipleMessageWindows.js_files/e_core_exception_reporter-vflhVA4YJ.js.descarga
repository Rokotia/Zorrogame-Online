!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="66520f07-45da-355b-af67-653436d7fb12")}catch(e){}}();
define(["require","exports","./e_core_exception","./c_react-use_misc_util","./c_memoize-one","./c_common_exception_tag_registry","./c_api_v2_routes_cloud_docs_provider","./c_watermarking_utils_getImageDefaultSizes","./c_sentry_core_exports","./c_lodash-es_lodash"],(function(e,t,n,r,o,i,s,a,c,u){"use strict";window.BUNDLE_GENERATOR="rollup";const l=[{pattern:/(?<prefix>(?:(?:https|http)+:\/\/)?(?:[a-zA-Z0-9-_]+\.)*(?:(dropbox|dropboxusercontent))\.com(?:\/\w+)(?:\/(?:fi|fo))?)\/.*/,replacer:(e,t)=>`${t}/[[FilePath]]`}],d=/((https|http):\/\/)?([a-zA-Z0-9-_]+\.)*dropboxstatic.com/,p=e=>!(e.startsWith("browser-id:")||e.startsWith("edison_atlasservlet:")||e.startsWith("edison_page_name:")),f=["maf_region","path_trail"];function h(e){const t={};for(const n of e)t[n.pagelet_name]=n;return t}function g(e){for(const{pattern:t,replacer:n}of l)if(e.filename){if(e.filename.match(d))return e;e.filename=e.filename.replace(t,n)}return e}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;if(!(i.exception&&i.exception.values&&s&&c.isInstanceOf(s.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var u,l;a&&(i.exception.values=(u=_(e,t,o,s.originalException,r,i.exception.values,a,0),l=n,u.map((e=>(e.value&&(e.value=c.truncate(e.value,l)),e)))))}function _(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let u=[...i];if(c.isInstanceOf(r[o],Error)){v(s,a);const i=e(t,r[o]),c=u.length;y(i,o,c,a),u=_(e,t,n,r[o],o,[i,...u],i,c)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(c.isInstanceOf(r,Error)){v(s,a);const c=e(t,r),l=u.length;y(c,`errors[${i}]`,l,a),u=_(e,t,n,r,o,[c,...u],c,l)}})),u}function v(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=a._objectSpread2(a._objectSpread2(a._objectSpread2({},e.mechanism),"AggregateError"===e.type&&{is_exception_group:!0}),{},{exception_id:t})}function y(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=a._objectSpread2(a._objectSpread2({},e.mechanism),{},{type:"chained",source:t,exception_id:n,parent_id:r})}const E=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${s}`}function b(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function w(e){const t="string"==typeof e?function(e){const t=E.exec(e);if(!t)return void c.consoleSandbox((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,o="",i="",s="",a=""]=t.slice(1);let u="",l=a;const d=l.split("/");if(d.length>1&&(u=d.slice(0,-1).join("/"),l=d.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return b({host:i,pass:o,path:u,projectId:l,port:s,protocol:n,publicKey:r})}(e):b(e);if(t&&function(e){if(!c.DEBUG_BUILD)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(c.logger.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(c.logger.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(c.logger.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(c.logger.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class x extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const O={},D={};function k(e,t){O[e]=O[e]||[],O[e].push(t)}function I(e,t){D[e]||(t(),D[e]=!0)}function $(e,t){const n=e&&O[e];if(n)for(const r of n)try{r(t)}catch(t){c.DEBUG_BUILD&&c.logger.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${c.getFunctionName(r)}\nError:`,t)}}function L(){"console"in c.GLOBAL_OBJ&&c.CONSOLE_LEVELS.forEach((function(e){e in c.GLOBAL_OBJ.console&&c.fill(c.GLOBAL_OBJ.console,e,(function(t){return c.originalConsoleMethods[e]=t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];$("console",{args:n,level:e});const o=c.originalConsoleMethods[e];o&&o.apply(c.GLOBAL_OBJ.console,n)}}))}))}const j=c.GLOBAL_OBJ;function T(){if(!("fetch"in j))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function B(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function U(e,t){const n="fetch";k(n,e),I(n,(()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&!function(){if("string"==typeof EdgeRuntime)return!0;if(!T())return!1;if(B(j.fetch))return!0;let e=!1;const t=j.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=B(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){c.DEBUG_BUILD&&c.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}())return;c.fill(c.GLOBAL_OBJ,"fetch",(function(t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const{method:i,url:s}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:P(t),method:N(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:P(t),method:N(t,"method")?String(t.method).toUpperCase():"GET"}}(r),u={args:r,fetchData:{method:i,url:s},startTimestamp:1e3*c.timestampInSeconds()};e||$("fetch",a._objectSpread2({},u));const l=(new Error).stack;return t.apply(c.GLOBAL_OBJ,r).then((async t=>(e?e(t):$("fetch",a._objectSpread2(a._objectSpread2({},u),{},{endTimestamp:1e3*c.timestampInSeconds(),response:t})),t)),(e=>{throw $("fetch",a._objectSpread2(a._objectSpread2({},u),{},{endTimestamp:1e3*c.timestampInSeconds(),error:e})),c.isError(e)&&void 0===e.stack&&(e.stack=l,c.addNonEnumerableProperty(e,"framesToPop",1)),e}))}}))}(void 0,t)))}function N(e,t){return!!e&&"object"==typeof e&&!!e[t]}function P(e){return"string"==typeof e?e:e?N(e,"url")?e.url:e.toString?e.toString():"":""}let A=null;function C(){A=c.GLOBAL_OBJ.onerror,c.GLOBAL_OBJ.onerror=function(e,t,n,r,o){return $("error",{column:r,error:o,line:n,msg:e,url:t}),!(!A||A.__SENTRY_LOADER__)&&A.apply(this,arguments)},c.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}let R=null;function G(){R=c.GLOBAL_OBJ.onunhandledrejection,c.GLOBAL_OBJ.onunhandledrejection=function(e){return $("unhandledrejection",e),!(R&&!R.__SENTRY_LOADER__)||R.apply(this,arguments)},c.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const M=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function F(){let e="",t=!1;for(let n=arguments.length-1;n>=-1&&!t;n--){const r=n>=0?n<0||arguments.length<=n?void 0:arguments[n]:"/";r&&(e=`${r}/${e}`,t="/"===r.charAt(0))}return e=function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){const r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}(e.split("/").filter((e=>!!e)),!t).join("/"),(t?"/":"")+e||"."}function q(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function J(e,t){let n=function(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=M.exec(t);return n?n.slice(1):[]}(e)[2]||"";return t&&n.slice(-1*t.length)===t&&(n=n.slice(0,n.length-t.length)),n}function W(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return c.rejectedSyncPromise(new x("Not adding Promise because buffer limit was reached."));const o=r();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new c.SyncPromise(((n,r)=>{let o=t.length;if(!o)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{c.resolvedSyncPromise(e).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}function z(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const K=["fatal","error","warning","log","info","debug"];function Y(e){return"warn"===e?"warning":K.includes(e)?e:"log"}function H(e){return[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]}function V(e,t){const[n,r]=e;return[n,[...r,t]]}function X(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function Z(e){return c.GLOBAL_OBJ.__SENTRY__&&c.GLOBAL_OBJ.__SENTRY__.encodePolyfill?c.GLOBAL_OBJ.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}function Q(e){const[t,n]=e;let r=JSON.stringify(t);function o(e){"string"==typeof r?r="string"==typeof e?r+e:[Z(r),e]:r.push("string"==typeof e?Z(e):e)}for(const e of n){const[t,n]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(c.normalize(n))}o(e)}}return"string"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(r)}function ee(e){const t="string"==typeof e.data?Z(e.data):e.data;return[c.dropUndefinedKeys({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const te={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function ne(e){return te[e]}function re(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}const oe=6e4;function ie(e,t){let{statusCode:n,headers:r}=t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();const i=a._objectSpread2({},e),s=r&&r["x-sentry-rate-limits"],c=r&&r["retry-after"];if(s)for(const e of s.trim().split(",")){const[t,n,,,r]=e.split(":",5),s=parseInt(t,10),a=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(";"))"metric_bucket"===e&&r&&!r.split(";").includes("custom")||(i[e]=o+a);else i.all=o+a}else c?i.all=o+function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?oe:r-t}(c,o):429===n&&(i.all=o+6e4);return i}const se=c.GLOBAL_OBJ;function ae(e,t,n,r){const o=re(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=function(e,t,n,r){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return a._objectSpread2(a._objectSpread2(a._objectSpread2({event_id:e.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:S(r)}),o&&{trace:c.dropUndefinedKeys(a._objectSpread2({},o))})}(e,o,r,t);delete e.sdkProcessingMetadata;return H(s,[[{type:i},e]])}const ce="7";function ue(e,t,n){return t||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return c.urlEncode(a._objectSpread2({sentry_key:e.publicKey,sentry_version:ce},t&&{sentry_client:`${t.name}/${t.version}`}))}(e,n)}`}const le=[];function de(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?c.arrayify(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(r),i=o.findIndex((e=>"Debug"===e.name));if(i>-1){const[e]=o.splice(i,1);o.push(e)}return o}function pe(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function fe(e,t,n){if(n[t.name])c.DEBUG_BUILD$1&&c.logger.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===le.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),le.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}c.DEBUG_BUILD$1&&c.logger.log(`Integration installed: ${t.name}`)}}const he="Not capturing exception because it's already been captured.";class ge{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=w(e.dsn):c.DEBUG_BUILD$1&&c.logger.warn("No DSN provided, client will not send events."),this._dsn){const t=ue(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport(a._objectSpread2(a._objectSpread2({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{},{url:t}))}}captureException(e,t,n){const r=c.uuid4();if(c.checkOrSetAlreadyCaught(e))return c.DEBUG_BUILD$1&&c.logger.log(he),r;const o=a._objectSpread2({event_id:r},t);return this._process(this.eventFromException(e,o).then((e=>this._captureEvent(e,o,n)))),o.event_id}captureMessage(e,t,n,r){const o=a._objectSpread2({event_id:c.uuid4()},n),i=c.isParameterizedString(e)?e:String(e),s=c.isPrimitive(e)?this.eventFromMessage(i,t,o):this.eventFromException(e,o);return this._process(s.then((e=>this._captureEvent(e,o,r)))),o.event_id}captureEvent(e,t,n){const r=c.uuid4();if(t&&t.originalException&&c.checkOrSetAlreadyCaught(t.originalException))return c.DEBUG_BUILD$1&&c.logger.log(he),r;const o=a._objectSpread2({event_id:r},t),i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,o,i||n)),o.event_id}captureSession(e){"string"!=typeof e.release?c.DEBUG_BUILD$1&&c.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),c.updateSession(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):c.resolvedSyncPromise(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((e=>{let{name:t}=e;return t.startsWith("Spotlight")})))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];fe(this,e,this._integrations),t||pe(this,[e])}sendEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",e,t);let n=ae(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=V(n,ee(e));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const o=re(n);return H(a._objectSpread2(a._objectSpread2({sent_at:(new Date).toISOString()},o&&{sdk:o}),!!r&&t&&{dsn:S(t)}),["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,o=`${e}:${t}`;c.DEBUG_BUILD$1&&c.logger.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=this._hooks[e];o&&o.forEach((e=>e(...n)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(c.DEBUG_BUILD$1&&c.logger.error("Error while sending event:",e),e))):(c.DEBUG_BUILD$1&&c.logger.error("Transport disabled"),c.resolvedSyncPromise({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&fe(e,t,n)})),n}(this,e),pe(this,e)}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(c.updateSession(e,a._objectSpread2(a._objectSpread2({},n&&{status:"crashed"}),{},{errors:e.errors||Number(r||n)})),this.captureSession(e))}_isClientDoneProcessing(e){return new c.SyncPromise((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.getIsolationScope();const o=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),c.prepareEvent(o,e,t,n,this,r).then((e=>{if(null===e)return e;const t=a._objectSpread2(a._objectSpread2({},r.getPropagationContext()),n?n.getPropagationContext():void 0);if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:n,spanId:r,parentSpanId:o,dsc:i}=t;e.contexts=a._objectSpread2({trace:c.dropUndefinedKeys({trace_id:n,span_id:r,parent_span_id:o})},e.contexts);const s=i||c.getDynamicSamplingContextFromClient(n,this);e.sdkProcessingMetadata=a._objectSpread2({dynamicSamplingContext:s},e.sdkProcessingMetadata)}return e}))}_captureEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(c.DEBUG_BUILD$1){const t=e;"log"===t.logLevel?c.logger.log(t.message):c.logger.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,i=_e(e),s=me(e),u=e.type||"error",l=`before send for type \`${u}\``,d=void 0===o?void 0:function(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t)||t<0||t>1))return t;c.DEBUG_BUILD$1&&c.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`)}(o);if(s&&"number"==typeof d&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",e),c.rejectedSyncPromise(new x(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const p="replay_event"===u?"replay":u,f=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,f).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",p,e),new x("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n,r){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t;if(me(n)&&o)return o(n,r);if(_e(n)){if(n.spans&&s){const t=[];for(const r of n.spans){const n=s(r);n?t.push(n):e.recordDroppedEvent("before_send","span")}n.spans=t}if(i){if(n.spans){const e=n.spans.length;n.sdkProcessingMetadata=a._objectSpread2(a._objectSpread2({},n.sdkProcessingMetadata),{},{spanCountBeforeProcessing:e})}return i(n,r)}}return n}(this,r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(c.isThenable(e))return e.then((e=>{if(!c.isPlainObject(e)&&null!==e)throw new x(n);return e}),(e=>{throw new x(`${t} rejected with ${e}`)}));if(!c.isPlainObject(e)&&null!==e)throw new x(n);return e}(o,l)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",p,e),i){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new x(`${l} returned \`null\`, will not send event.`,"log")}const o=n&&n.getSession();if(!i&&o&&this._updateSessionFromEvent(o,r),i){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const s=r.transaction_info;if(i&&s&&r.transaction!==e.transaction){const e="custom";r.transaction_info=a._objectSpread2(a._objectSpread2({},s),{},{source:e})}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof x)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new x(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((e=>{let[t,n]=e;const[r,o]=t.split(":");return{reason:r,category:o,quantity:n}}))}_flushOutcomes(){c.DEBUG_BUILD$1&&c.logger.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(c.DEBUG_BUILD$1&&c.logger.log("No outcomes to send"));if(!this._dsn)return void(c.DEBUG_BUILD$1&&c.logger.log("No dsn provided, will not send outcomes"));c.DEBUG_BUILD$1&&c.logger.log("Sending outcomes:",e);const t=(n=e,H((r=this._options.tunnel&&S(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:o||c.dateTimestampInSeconds(),discarded_events:n}]]));var n,r,o;this.sendEnvelope(t)}}function me(e){return void 0===e.type}function _e(e){return"transaction"===e.type}function ve(e,t){!0===t.debug&&(c.DEBUG_BUILD$1?c.logger.enable():c.consoleSandbox((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));c.getCurrentScope().update(t.initialScope);const n=new e(t);return function(e){c.getCurrentScope().setClient(e)}(n),n.init(),n}const ye=64;function Ee(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W(e.bufferSize||ye),r={};return{send:function(o){const i=[];if(X(o,((t,n)=>{const o=ne(n);if(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,o)){const r=Se(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(t)})),0===i.length)return c.resolvedSyncPromise({});const s=H(o[0],i),a=t=>{X(s,((n,r)=>{const o=Se(n,r);e.recordDroppedEvent(t,ne(r),o)}))};return n.add((()=>t({body:Q(s)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&c.DEBUG_BUILD$1&&c.logger.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=ie(r,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof x)return c.DEBUG_BUILD$1&&c.logger.error("Skipped sending event because buffer is full."),a("queue_overflow"),c.resolvedSyncPromise({});throw e}))},flush:e=>n.drain(e)}}function Se(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}const be=100;function we(e,t){const n=c.getClient(),r=c.getIsolationScope();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=be}=n.getOptions();if(i<=0)return;const s=c.dateTimestampInSeconds(),u=a._objectSpread2({timestamp:s},e),l=o?c.consoleSandbox((()=>o(u,t))):u;null!==l&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,i))}let xe;const Oe=new WeakMap,De=()=>({name:"FunctionToString",setupOnce(){xe=Function.prototype.toString;try{Function.prototype.toString=function(){const e=c.getOriginalFunction(this),t=Oe.has(c.getClient())&&void 0!==e?e:this;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xe.apply(t,r)}}catch(e){}},setup(e){Oe.set(e,!0)}}),ke=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"InboundFilters",processEvent(t,n,r){const o=r.getOptions(),i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:ke],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,o);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return c.DEBUG_BUILD$1&&c.logger.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${c.getEventDescription(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));return t}(e).some((e=>c.stringMatchesSomePattern(e,t)))}(e,t.ignoreErrors))return c.DEBUG_BUILD$1&&c.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${c.getEventDescription(e)}`),!0;if(function(e){if(e.type)return!1;if(!e.exception||!e.exception.values||0===e.exception.values.length)return!1;return!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))}(e))return c.DEBUG_BUILD$1&&c.logger.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${c.getEventDescription(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&c.stringMatchesSomePattern(n,t)}(e,t.ignoreTransactions))return c.DEBUG_BUILD$1&&c.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${c.getEventDescription(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=$e(e);return!!n&&c.stringMatchesSomePattern(n,t)}(e,t.denyUrls))return c.DEBUG_BUILD$1&&c.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${c.getEventDescription(e)}.\nUrl: ${$e(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=$e(e);return!n||c.stringMatchesSomePattern(n,t)}(e,t.allowUrls))return c.DEBUG_BUILD$1&&c.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${c.getEventDescription(e)}.\nUrl: ${$e(e)}`),!0;return!1}(t,i)?null:t}}};function $e(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return c.DEBUG_BUILD$1&&c.logger.error(`Cannot extract url for event ${c.getEventDescription(e)}`),null}}const Le=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Te(e,t))return!1;if(!je(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=Be(t),r=Be(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Te(e,t))return!1;if(!je(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return c.DEBUG_BUILD$1&&c.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function je(e,t){let n=c.getFramesFromEvent(e),r=c.getFramesFromEvent(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function Te(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function Be(e){return e.exception&&e.exception.values&&e.exception.values[0]}const Ue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.root,n=e.prefix||"app:///",r="window"in c.GLOBAL_OBJ&&void 0!==c.GLOBAL_OBJ.window,o=e.iteratee||function(e){let{isBrowser:t,root:n,prefix:r}=e;return e=>{if(!e.filename)return e;const o=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),i=/^\//.test(e.filename);if(t){if(n){const t=e.filename;0===t.indexOf(n)&&(e.filename=t.replace(n,r))}}else if(o||i){const t=o?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,i=n?function(e,t){e=F(e).slice(1),t=F(t).slice(1);const n=q(e.split("/")),r=q(t.split("/")),o=Math.min(n.length,r.length);let i=o;for(let e=0;e<o;e++)if(n[e]!==r[e]){i=e;break}let s=[];for(let e=i;e<n.length;e++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}(n,t):J(t);e.filename=`${r}${i}`}return e}}({isBrowser:r,root:t,prefix:n});return{name:"RewriteFrames",processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return a._objectSpread2(a._objectSpread2({},e),{},{exception:a._objectSpread2(a._objectSpread2({},e.exception),{},{values:e.exception.values.map((e=>{return a._objectSpread2(a._objectSpread2({},e),e.stacktrace&&{stacktrace:(t=e.stacktrace,a._objectSpread2(a._objectSpread2({},t),{},{frames:t&&t.frames&&t.frames.map((e=>o(e)))}))});var t}))})})}catch(t){return e}}(t)),t}}};const Ne=c.GLOBAL_OBJ;let Pe=0;function Ae(){return Pe>0}function Ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(c.getOriginalFunction(e))return e}catch(t){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const o=r.map((e=>Ce(e,t)));return e.apply(this,o)}catch(e){throw Pe++,setTimeout((()=>{Pe--})),c.withScope((n=>{n.addEventProcessor((e=>(t.mechanism&&(c.addExceptionTypeValue(e,void 0,void 0),c.addExceptionMechanism(e,t.mechanism)),e.extra=a._objectSpread2(a._objectSpread2({},e.extra),{},{arguments:r}),e))),c.captureException(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}c.markFunctionWrapped(r,e),c.addNonEnumerableProperty(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}const Re="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Ge(e,t){const n=qe(e,t),r={type:t&&t.name,value:We(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Me(e,t,n,r){const o=c.getClient(),i=o&&o.getOptions().normalizeDepth,s=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}return}(t),a={__serialized__:c.normalizeToSize(t,i)};if(s)return{exception:{values:[Ge(e,s)]},extra:a};const u={exception:{values:[{type:c.isEvent(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Ye(t,{isUnhandledRejection:r})}]},extra:a};if(n){const t=qe(e,n);t.length&&(u.exception.values[0].stacktrace={frames:t})}return u}function Fe(e,t){return{exception:{values:[Ge(e,t)]}}}function qe(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e&&Je.test(e.message))return 1;return 0}(t),o=function(e){if("number"==typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,r,o)}catch(e){}return[]}const Je=/Minified React error #\d+;/i;function We(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function ze(e,t,n,r,o){let i;if(c.isErrorEvent(t)&&t.error){return Fe(e,t.error)}if(c.isDOMError(t)||c.isDOMException(t)){const o=t;if("stack"in t)i=Fe(e,t);else{const t=o.name||(c.isDOMError(o)?"DOMError":"DOMException"),s=o.message?`${t}: ${o.message}`:t;i=Ke(e,s,n,r),c.addExceptionTypeValue(i,s)}return"code"in o&&(i.tags=a._objectSpread2(a._objectSpread2({},i.tags),{},{"DOMException.code":`${o.code}`})),i}if(c.isError(t))return Fe(e,t);if(c.isPlainObject(t)||c.isEvent(t)){return i=Me(e,t,n,o),c.addExceptionMechanism(i,{synthetic:!0}),i}return i=Ke(e,t,n,r),c.addExceptionTypeValue(i,`${t}`,void 0),c.addExceptionMechanism(i,{synthetic:!0}),i}function Ke(e,t,n,r){const o={};if(r&&n){const r=qe(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(c.isParameterizedString(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function Ye(e,t){let{isUnhandledRejection:n}=t;const r=c.extractExceptionKeysForMessage(e),o=n?"promise rejection":"exception";if(c.isErrorEvent(e))return`Event \`ErrorEvent\` captured as ${o} with message \`${e.message}\``;if(c.isEvent(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${o}`}return`Object captured as ${o} with keys: ${r}`}class He extends ge{constructor(e){const t=a._objectSpread2({parentSpanIsAlwaysRootSpan:!0},e);!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm";const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:c.SDK_VERSION}))),version:c.SDK_VERSION}),e._metadata=o}(t,"browser",["browser"],Ne.SENTRY_SDK_SOURCE||"npm"),super(t),t.sendClientReports&&Ne.document&&Ne.document.addEventListener("visibilitychange",(()=>{"hidden"===Ne.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const o=ze(e,t,n&&n.syntheticException||void 0,r);return c.addExceptionMechanism(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),c.resolvedSyncPromise(o)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const i=Ke(e,t,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),c.resolvedSyncPromise(i)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Re&&c.logger.warn("SDK not enabled, will not capture user feedback."));const t=function(e,t){let{metadata:n,tunnel:r,dsn:o}=t;const i=a._objectSpread2(a._objectSpread2({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&n.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}}),!!r&&!!o&&{dsn:S(o)}),s=function(e){return[{type:"user_report"},e]}(e);return H(i,[s])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}}const Ve="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Xe=c.GLOBAL_OBJ,Ze=1e3;let Qe,et,tt,nt;function rt(){if(!Xe.document)return;const e=$.bind(null,"dom"),t=ot(e,!0);Xe.document.addEventListener("click",t,!1),Xe.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Xe[t]&&Xe[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(c.fill(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=i[n]=i[n]||{refCount:0};if(!s.handler){const r=ot(e);s.handler=r,t.call(this,n,r,o)}s.refCount++}catch(e){}return t.call(this,n,r,o)}})),c.fill(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},i=o[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function ot(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;c.addNonEnumerableProperty(n,"_sentryCaptured",!0),r&&!r._sentryId&&c.addNonEnumerableProperty(r,"_sentryId",c.uuid4());const o="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==et)return!1;try{if(!e.target||e.target._sentryId!==tt)return!1}catch(e){}return!0}(n)){e({event:n,name:o,global:t}),et=n.type,tt=r?r._sentryId:void 0}clearTimeout(Qe),Qe=Xe.setTimeout((()=>{tt=void 0,et=void 0}),Ze)}}function it(e){const t="history";k(t,e),I(t,st)}function st(){if(!function(){const e=se.chrome,t=e&&e.app&&e.app.runtime,n="history"in se&&!!se.history.pushState&&!!se.history.replaceState;return!t&&n}())return;const e=Xe.onpopstate;function t(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n.length>2?n[2]:void 0;if(o){const e=nt,t=String(o);nt=t;$("history",{from:e,to:t})}return e.apply(this,n)}}Xe.onpopstate=function(){const t=Xe.location.href,n=nt;nt=t;if($("history",{from:n,to:t}),e)try{for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.apply(this,o)}catch(e){}},c.fill(Xe.history,"pushState",t),c.fill(Xe.history,"replaceState",t)}const at={};function ct(e){at[e]=void 0}const ut="__sentry_xhr_v3__";function lt(){if(!Xe.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;c.fill(e,"open",(function(e){return function(){const t=1e3*c.timestampInSeconds();for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const i=c.isString(r[0])?r[0].toUpperCase():void 0,s=function(e){if(c.isString(e))return e;try{return e.toString()}catch(e){}return}(r[1]);if(!i||!s)return e.apply(this,r);this[ut]={method:i,url:s,request_headers:{}},"POST"===i&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const a=()=>{const e=this[ut];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}$("xhr",{endTimestamp:1e3*c.timestampInSeconds(),startTimestamp:t,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?c.fill(this,"onreadystatechange",(function(e){return function(){a();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}})):this.addEventListener("readystatechange",a),c.fill(this,"setRequestHeader",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const[o,i]=n,s=this[ut];return s&&c.isString(o)&&c.isString(i)&&(s.request_headers[o.toLowerCase()]=i),e.apply(this,n)}})),e.apply(this,r)}})),c.fill(e,"send",(function(e){return function(){const t=this[ut];for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(!t)return e.apply(this,r);void 0!==r[0]&&(t.body=r[0]);return $("xhr",{startTimestamp:1e3*c.timestampInSeconds(),xhr:this}),e.apply(this,r)}}))}function dt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){const t=at[e];if(t)return t;let n=Xe[e];if(B(n))return at[e]=n.bind(Xe);const r=Xe.document;if(r&&"function"==typeof r.createElement)try{const t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(t)}catch(t){Ve&&c.logger.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?at[e]=n.bind(Xe):n}("fetch"),n=0,r=0;return Ee(e,(function(o){const i=o.body.length;n+=i,r++;const s=a._objectSpread2({body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);if(!t)return ct("fetch"),c.rejectedSyncPromise("No fetch implementation available");try{return t(e.url,s).then((e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return ct("fetch"),n-=i,r--,c.rejectedSyncPromise(e)}}))}function pt(e,t,n,r){const o={filename:e,function:"<anonymous>"===t?c.UNKNOWN_FUNCTION:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const ft=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,ht=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gt=/\((\S*)(?::(\d+))(?::(\d+))\)/,mt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,_t=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,vt=[[30,e=>{const t=ft.exec(e);if(t){const[,e,n,r]=t;return pt(e,c.UNKNOWN_FUNCTION,+n,+r)}const n=ht.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){const e=gt.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=Et(n[1]||c.UNKNOWN_FUNCTION,n[2]);return pt(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=mt.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=_t.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||c.UNKNOWN_FUNCTION;return[n,e]=Et(n,e),pt(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]],yt=c.createStackParser(...vt),Et=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:c.UNKNOWN_FUNCTION,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},St=1024,bt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=a._objectSpread2({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e);return{name:"Breadcrumbs",setup(e){var n;t.console&&function(e){const t="console";k(t,e),I(t,L)}(function(e){return function(t){if(c.getClient()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:Y(t.level),message:c.safeJoin(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${c.safeJoin(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}we(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if(c.getClient()!==e)return;let r,o,i="object"==typeof t?t.serializeAttribute:void 0,s="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;s&&s>St&&(Re&&c.logger.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=St),"string"==typeof i&&(i=[i]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=c.htmlTreeAsString(t,{keyAttrs:i,maxStringLength:s}),o=c.getComponentName(t)}catch(e){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};o&&(a.data={"ui.component_name":o}),we(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),k("dom",n),I("dom",rt)),t.xhr&&function(e){k("xhr",e),I("xhr",lt)}(function(e){return function(t){if(c.getClient()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,o=t.xhr[ut];if(!n||!r||!o)return;const{method:i,url:s,status_code:a,body:u}=o;we({category:"xhr",data:{method:i,url:s,status_code:a},type:"http"},{xhr:t.xhr,input:u,startTimestamp:n,endTimestamp:r})}}(e)),t.fetch&&U(function(e){return function(t){if(c.getClient()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){we({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response;we({category:"fetch",data:a._objectSpread2(a._objectSpread2({},t.fetchData),{},{status_code:e&&e.status}),type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}(e)),t.history&&it(function(e){return function(t){if(c.getClient()!==e)return;let n=t.from,r=t.to;const o=z(Ne.location.href);let i=n?z(n):void 0;const s=z(r);i&&i.path||(i=o),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),we({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){c.getClient()===e&&we({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:c.getEventDescription(t)},{event:t})}}(e))}}};const wt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],xt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=a._objectSpread2({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e);return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&c.fill(Ne,"setTimeout",Ot),t.setInterval&&c.fill(Ne,"setInterval",Ot),t.requestAnimationFrame&&c.fill(Ne,"requestAnimationFrame",Dt),t.XMLHttpRequest&&"XMLHttpRequest"in Ne&&c.fill(XMLHttpRequest.prototype,"send",kt);const e=t.eventTarget;if(e){(Array.isArray(e)?e:wt).forEach(It)}}}};function Ot(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n[0];return n[0]=Ce(o,{mechanism:{data:{function:c.getFunctionName(e)},handled:!1,type:"instrument"}}),e.apply(this,n)}}function Dt(e){return function(t){return e.apply(this,[Ce(t,{mechanism:{data:{function:"requestAnimationFrame",handler:c.getFunctionName(e)},handled:!1,type:"instrument"}})])}}function kt(e){return function(){const t=this;["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in t&&"function"==typeof t[e]&&c.fill(t,e,(function(t){const n={mechanism:{data:{function:e,handler:c.getFunctionName(t)},handled:!1,type:"instrument"}},r=c.getOriginalFunction(t);return r&&(n.mechanism.data.handler=c.getFunctionName(r)),Ce(t,n)}))}));for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.apply(this,r)}}function It(e){const t=Ne,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(c.fill(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Ce(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:c.getFunctionName(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Ce(r,{mechanism:{data:{function:"addEventListener",handler:c.getFunctionName(r),target:e},handled:!1,type:"instrument"}}),o])}})),c.fill(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,o,r)}})))}const $t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=a._objectSpread2({onerror:!0,onunhandledrejection:!0},e);return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){!function(e){const t="error";k(t,e),I(t,C)}((t=>{const{stackParser:n,attachStacktrace:r}=jt();if(c.getClient()!==e||Ae())return;const{msg:o,url:i,line:s,column:a,error:u}=t,l=function(e,t,n,r){const o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},u=a.frames=a.frames||[],l=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,p=c.isString(t)&&t.length>0?t:c.getLocationHref();0===u.length&&u.push({colno:l,filename:p,function:c.UNKNOWN_FUNCTION,in_app:!0,lineno:d});return e}(ze(n,u||o,void 0,r,!1),i,s,a);l.level="error",c.captureEvent(l,{originalException:u,mechanism:{handled:!1,type:"onerror"}})}))}(e),Lt("onerror")),t.onunhandledrejection&&(!function(e){!function(e){const t="unhandledrejection";k(t,e),I(t,G)}((t=>{const{stackParser:n,attachStacktrace:r}=jt();if(c.getClient()!==e||Ae())return;const o=function(e){if(c.isPrimitive(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t),i=c.isPrimitive(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:ze(n,o,void 0,r,!0);i.level="error",c.captureEvent(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),Lt("onunhandledrejection"))}}};function Lt(e){Re&&c.logger.log(`Global Handler attached: ${e}`)}function jt(){const e=c.getClient();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Tt=()=>({name:"HttpContext",preprocessEvent(e){if(!Ne.navigator&&!Ne.location&&!Ne.document)return;const t=e.request&&e.request.url||Ne.location&&Ne.location.href,{referrer:n}=Ne.document||{},{userAgent:r}=Ne.navigator||{},o=a._objectSpread2(a._objectSpread2(a._objectSpread2({},e.request&&e.request.headers),n&&{Referer:n}),r&&{"User-Agent":r}),i=a._objectSpread2(a._objectSpread2(a._objectSpread2({},e.request),t&&{url:t}),{},{headers:o});e.request=i}}),Bt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,o){const i=o.getOptions();m(Ge,i.stackParser,i.maxValueLength,n,t,e,r)}}};function Ut(){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={defaultIntegrations:[Ie(),De(),xt(),bt(),$t(),Bt(),Le(),Tt()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Ne.SENTRY_RELEASE&&Ne.SENTRY_RELEASE.id?Ne.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==e.defaultIntegrations&&delete e.defaultIntegrations,a._objectSpread2(a._objectSpread2({},t),e)}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});if(function(){const e=void 0!==Ne.window&&Ne;if(!e)return!1;const t=e[e.chrome?"chrome":"browser"],n=t&&t.runtime&&t.runtime.id,r=Ne.location&&Ne.location.href||"",o=!!n&&Ne===Ne.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some((e=>r.startsWith(`${e}//`))),i=void 0!==e.nw;return!!n&&!o&&!i}())return void c.consoleSandbox((()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}));Re&&(T()||c.logger.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const t=a._objectSpread2(a._objectSpread2({},e),{},{stackParser:c.stackParserFromStackParserOptions(e.stackParser||yt),integrations:de(e),transport:e.transport||dt}),n=ve(He,t);return e.autoSessionTracking&&function(){if(void 0===Ne.document)return void(Re&&c.logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));c.startSession({ignoreDuration:!0}),c.captureSession(),it((e=>{let{from:t,to:n}=e;void 0!==t&&t!==n&&(c.startSession({ignoreDuration:!0}),c.captureSession())}))}(),n}let Nt=null;async function Pt(){var e;if(Nt)return Nt;const t=await s.maybeGetFenixEnv("getExceptionTags");return Nt=null!==(e=await(null==t?void 0:t.getExceptionTags()))&&void 0!==e?e:{},Nt}var At;!function(e){e.Reported="reported",e.ForceReported="force",e.Duplicate="duplicate",e.DroppedDueToVolumeLimit="dropped_volume_limit",e.DroppedDueToResizeObserverLoop="dropped_resize_observer_loop",e.DroppedDueToCrossOriginScriptError="dropped_cross_origin_script_error",e.DroppedTrackAsMetric="dropped_track_as_metric"}(At||(At={}));let Ct=100,Rt=.1;const Gt={fatal:"fatal",uncaught:"error",critical:"error",operational:"warning","non-critical":"warning","user-error":"info"},Mt="js_exception";async function Ft(t,n,r){try{const{getMetricsReporter:i}=await new Promise((function(t,n){e(["./c_src_sink_index"],t,n)})).then((function(e){return e.index_esnext})),s={which:t,severity:n||"undefined",page_name:o.getPageName(),yaps_project:o.getYapsProject(),yaps_deployment:o.getYapsDeployment(),atlasservlet:o.getAtlasservlet(),is_edison:o.isServedByEdisonWebServer().toString()};r&&(s.drop_group=r);const a=i().createCounter({ns:Mt,name:"count"},s);a.increment(),a.record()}catch(e){}}let qt=0;let Jt=!1,Wt=0;function zt(e,t){var n;return"fatal"===e.level&&((null===(n=e.exception)||void 0===n?void 0:n.values)||[]).forEach((e=>{e.mechanism&&(e.mechanism.handled=!1)})),e}async function Kt(e){var t;if(Jt)return;const{dsn:n,release:r,environment:o}=e,i=[bt(),De(),Tt(),Ue({iteratee:g})];(null==e?void 0:e.disableDedupeIntegration)||i.push(Le());const s={defaultIntegrations:!1,integrations:i,dsn:n,beforeSend:zt,normalizeDepth:5};r&&(s.release=r),o&&(s.environment=o),Ut(s),Jt=!0;const a=c.getGlobalScope(),{userId:u}=e,l=String((null===(t=null==e?void 0:e.tags)||void 0===t?void 0:t.browser_id)||"undefined_browser_id"),d=u&&"0"!==u?u:`logged_out_user:${l}`;a.setUser({id:d}),e.tags&&a.setTags(e.tags);const p=await Pt();p&&a.setTags(p)}async function Yt({err:e,sentryOptions:t}){o.isUserAgentNotSupported()?console.log("Browser is not supported, skipping Sentry reporting"):(Jt||await Kt(t),c.withScope((function(t){try{const n=e.severity||"undefined_severity";t.setTag("exclog_severity",n);const o=e.severity&&Gt[e.severity]?Gt[e.severity]:"warning";t.setLevel(o),t.setTag("online_status",navigator.onLine);const{tags:i,contexts:s}=function(e,t){const n={},o={};for(const[e,r]of Object.entries(t))if("dws_page_info"!==e)if("pagelet_info"!==e)"component_stack"!==e?"privacy_consent"!==e?void 0!==r&&(null!==r&&"object"==typeof r?o[e]=r:n[e]=r):o.privacy_consent={consentCookie:t.privacy_consent}:o.react={componentStack:t.component_stack};else{const e=h((null==t?void 0:t.pagelet_info)||[]);o.pagelets=e}else{const e=r;n.dws_page_name=e.dws_page_name,o.dws_page_info=e}e.filter(p).forEach((e=>{if(f.some((t=>e.startsWith(t+":")))){const t=e.indexOf(":");n[e.substring(0,t)]=e.substring(t+1)}else n[e]=!0}));const i=r.resolveRouteName();return i&&(n.react_router_product_name=i),{tags:n,contexts:o}}(e.tags||[],e.excExtra||{});t.setTags(i);for(const[e,n]of Object.entries(s))t.setContext(e,{...n});c.captureException(e)}catch(e){console.error("Error reporting to Sentry:",e)}})))}function Ht(e){let t={};if(e.isAssertion){const n=e;n.assertOptions&&n.assertOptions.exc_extra&&(t={...t,...n.assertOptions.exc_extra})}e.excExtra&&(t={...t,...e.excExtra}),t.client_time=(new Date).toString(),t.client_utc_time=(new Date).toUTCString();const n={};for(const e in window.requireContexts)if(window.requireContexts.hasOwnProperty(e)){const t={},r=window.requireContexts[e].firstUndefinedModule;r&&(t.first_undefined_module=r),n[e]=t}t.page_alameda_failures=n;const r=window.ensemble;return null!=r&&(null!=r.getExceptionInfo&&(t.dws_page_info=r.getExceptionInfo()),null!=r.getPageletInfoForExceptionReporting&&(t.pagelet_info=r.getPageletInfoForExceptionReporting())),t}function Vt(e){const t=new Set;if(e.isAssertion){const n=e;n.assertOptions&&n.assertOptions.tags&&n.assertOptions.tags.forEach((e=>t.add(e)))}return e.tags&&e.tags.forEach((e=>t.add(e))),i.get_registered_tags().forEach((e=>t.add(e))),Array.from(t.values())}t._testOnlySetExceptionsLimits=function(e,t){Ct=e,Rt=t},t.collectExceptionExtra=Ht,t.collectExceptionTags=Vt,t.initSentry=Kt,t.sendExceptionReport=function(e,t){return window.EDISON_LOCALMODE||window.EDISON_PREVIEW_BUILD?Promise.resolve():e.reported?Ft(At.Duplicate,e.severity):["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications"].some((t=>e.message.startsWith(t)))?(e.severity="non-critical",Ft(At.DroppedDueToResizeObserverLoop,e.severity)):e.trackAsMetric?Ft(At.DroppedTrackAsMetric,e.severity,e.trackAsMetric):!e.force&&qt>=Ct&&Math.random()>Rt?Ft(At.DroppedDueToVolumeLimit,e.severity):"Script error."===e.message?Ft(At.DroppedDueToCrossOriginScriptError,e.severity):(e.severity||(e.severity=n.SEVERITY.UNCAUGHT,e.tags=e.tags||[],e.tags.push("undefined_severity")),e.tags=Vt(e),e.excExtra=Ht(e),r=e.excExtra,qt+=1,r.exception_number=qt,t&&t.dsn&&Yt({sentryOptions:t,err:e}),e.reported=!0,e.force?Ft(At.ForceReported,e.severity):Ft(At.Reported,e.severity));var r},t.sendSentryCspViolation=async function(e,t){!o.isUserAgentNotSupported()&&(null==t?void 0:t.dsn)&&(null==t?void 0:t.enableCspReporting)&&(Jt||await Kt(t),Wt>=5||Wt>=2&&Math.random()>=.5||(Wt+=1,c.withScope((function(t){try{t.setLevel("report"===e.disposition?"warning":"error"),t.setTag("logger","csp"),t.setTag("blocked-uri",e.blockedURI),t.setTag("effective-directive",e.effectiveDirective),t.setTag("csp-exception-number",Wt),t.setFingerprint(["csp",e.blockedURI,e.effectiveDirective]);const n=function(e){const t={};return e.split(";").map((e=>e.trim())).forEach((e=>{const[n,r]=e.split(" ",2);t[n]=r})),t}(e.originalPolicy);t.setContext("CSP",{"Blocked URI":e.blockedURI,"Column Number":e.columnNumber,Disposition:e.disposition,"Document URI":e.documentURI,"Effective Directive":e.effectiveDirective,"Line Number":e.lineNumber,"Original Policy":n,Referrer:e.referrer,Sample:e.sample,"Source File":e.sourceFile,"Status Code":e.statusCode,"Violated Directive":e.violatedDirective}),c.captureMessage(`Blocked '${e.blockedURI}' on ${e.documentURI}`)}catch(e){console.error("Error reporting CSP violation to Sentry:",e)}}))))},t.sentryBeforeSend=zt}));
//# sourceMappingURL=e_core_exception_reporter.js-vflgzWEKu.map

//# debugId=66520f07-45da-355b-af67-653436d7fb12