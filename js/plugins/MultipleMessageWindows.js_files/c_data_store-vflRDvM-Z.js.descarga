!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1d55f40b-3330-3b0c-b38c-8091f12314f9")}catch(e){}}();
define(["exports","./e_file_viewer_static_scl_page_file","react","./c_upload_kit_lib_types","./c_base64","./c_core_i18n","./c_init_data_debug_panel","./c_browse_interface","./c_lodash-es_lodash"],(function(e,t,o,r,a,s,_,i,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var d,u,p,E,c,S,R,O,m=l(o);class T{constructor(e){this.teamAccessLevelsDefinition=e||[]}hasDefinitions(){return!!this.teamAccessLevelsDefinition.length}addTeamAccessLevel(e,t){const o=this.teamAccessLevelsDefinition.filter((t=>t.path!==e));return new T([...o,{path:e,accessLevel:t}])}getTeamAccessLevel(e){if(!this.teamAccessLevelsDefinition.length)return null;const o=this.teamAccessLevelsDefinition.reduce(((o,r)=>{const a=t.inSubDirectory(r.path,e)||t.paths_are_equal(r.path,e);if(!o)return a?r:null;const s=t.normalize(o.path),_=t.normalize(r.path),i=s.length<_.length;return a&&i?r:o}),null);return o?o.accessLevel:null}}e.ChooserType=void 0,(d=e.ChooserType||(e.ChooserType={})).FILE="file",d.FOLDER="folder",d.FILE_FOLDER="file_folder",d.UNKNOWN="unknown",function(e){e.ALL_UPLOADS_COMPLETE="ALL_UPLOADS_COMPLETE",e.SET_PATH="UPLOADER_SET_PATH",e.SET_FOLDER_NS_ID="UPLOADER_SET_FOLDER_NS_ID",e.SET_USER="UPLOADER_SET_USER",e.SET_NUM_DRAGGING_FILES="SET_NUM_DRAGGING_FILES",e.READY_UPLOADS="READY_UPLOADS",e.QUEUE_UPLOADS="QUEUE_UPLOADS",e.START_UPLOAD="START_UPLOAD",e.COMPLETE_UPLOAD="COMPLETE_UPLOAD",e.CANCEL_UPLOADS="CANCEL_UPLOADS",e.SET_CURRENT_UPLOAD_PROGRESS="SET_CURRENT_UPLOAD_PROGRESS",e.UPLOAD_ERROR="UPLOAD_ERROR",e.SET_IS_UPLOAD_MODAL_OPEN="SET_IS_UPLOAD_MODAL_OPEN",e.SET_INLINE_STATUS_SHOULD_BE_DISMISSED="SET_INLINE_STATUS_SHOULD_BE_DISMISSED",e.ADD_NEW_FAILED_FILE="ADD_NEW_FAILED_FILE",e.CONFIRM_FSW="CONFIRM_FSW",e.ADD_FILES_TO_PLU="ADD_FILES_TO_PLU",e.ADD_DIRECTORIES_TO_PLU="ADD_DIRECTORIES_TO_PLU",e.REMOVE_FILES="REMOVE_FILES",e.SET_HAS_OVERQUOTA_ERROR="SET_HAS_OVERQUOTA_ERROR",e.SET_IS_PERMISSIONS_AT_UPLOAD_MODAL_OPEN="SET_IS_PERMISSIONS_AT_UPLOAD_MODAL_OPEN",e.ADD_TEAM_ACCESS_LEVEL="ADD_TEAM_ACCESS_LEVEL",e.RESET_TEAM_ACCESS_LEVELS="RESET_TEAM_ACCESS_LEVELS",e.SET_UPLOAD_PROGRESS="SET_UPLOAD_PROGRESS",e.SET_FILE_UPLOAD_TIME_LEFT="SET_FILE_UPLOAD_TIME_LEFT",e.SET_DROPZONE_ACTIVE="SET_DROPZONE_ACTIVE"}(u||(u={})),e.FileStatusType=void 0,(p=e.FileStatusType||(e.FileStatusType={})).SET_PERMISSIONS="SET_PERMISSIONS",p.PENDING="PENDING",p.UPLOADING="UPLOADING",p.COMPLETE="COMPLETE",p.CANCELLING="CANCELLING",p.CANCELLED="CANCELLED",p.FAILED="FAILED",p.PAUSED="PAUSED",p.SKIPPED="SKIPPED",e.TeamAccessLevel=void 0,(E=e.TeamAccessLevel||(e.TeamAccessLevel={})).WRITER="WRITER",E.READER="READER",E.NO_ACCESS="NO_ACCESS",E.INHERIT="INHERIT",e.UploadErrorType=void 0,(c=e.UploadErrorType||(e.UploadErrorType={})).FILE_SIZE_ERROR="FILE_SIZE_ERROR",c.HTTP_ERROR="HTTP_ERROR",c.CONNECTION_ERROR="CONNECTION_ERROR",c.OVER_QUOTA_ERROR="OVER_QUOTA_ERROR",c.LOCKED_TEAM_ERROR="LOCKED_TEAM_ERROR",c.IGNORED="IGNORED",c.INVALID_EXTENSION="INVALID_EXTENSION",c.INVALID_FILE_NAME="INVALID_FILE_NAME",c.EMPTY_OR_FOLDER="EMPTY_OR_FOLDER",c.FOLDER_SAFARI="FOLDER_SAFARI",c.PACKAGE_FILE="PACKAGE_FILE",c.GENERIC="GENERIC",c.NOT_A_FILE="NOT_A_FILE",c.BLOCKS_MISSING_ERROR="BLOCKS_MISSING_ERROR",c.UPLOAD_BLOCK_ERROR="UPLOAD_BLOCK_ERROR",c.CHUNKS_NOT_ENABLED_ERROR="CHUNKS_NOT_ENABLED_ERROR",c.SERVER_RESPONSE_ERROR="SERVER_RESPONSE_ERROR",c.SERVER_TOKEN_EMPTY_ERROR="SERVER_TOKEN_EMPTY_ERROR",c.SERVER_TOKENS_MISSING_ERROR="SERVER_TOKENS_MISSING_ERROR",c.SERVER_HASH_RESPONSE_ERROR="SERVER_HASH_RESPONSE_ERROR",c.BLOCK_RUNTIME_ID_MISSING_ERROR="BLOCK_RUNTIME_ID_MISSING",c.CLIENT_HASH_EMPTY_ERROR="CLIENT_HASH_EMPTY_ERROR",c.SERVER_HASH_EMPTY_ERROR="SERVER_HASH_EMPTY_ERROR",c.HASHES_NOT_EQUAL_ERROR="HASHES_NOT_EQUAL_ERROR",c.BLOCK_INDEX_ERROR="BLOCK_INDEX_ERROR",c.BLOCK_EMPTY_ERROR="BLOCK_EMPTY_ERROR",c.BLOB_EMPTY_ERROR="BLOB_EMPTY_ERROR",c.BLOB_MISSING_ERROR="BLOB_MISSING_ERROR",c.CLIENT_HASH_DIGEST_ERROR="CLIENT_HASH_DIGEST_ERROR",c.FILE_READER_NULL_RESULT_ERROR="FILE_READER_NULL_RESULT_ERROR",c.UPLOAD_PRECHECK_ERROR="UPLOAD_PRECHECK_ERROR",c.UPLOAD_PRECHECK_INVALID_CHAR_ERROR="UPLOAD_PRECHECK_INVALID_CHAR_ERROR",c.PERMISSIONS_AT_UPLOAD_ERROR="PERMISSIONS_AT_UPLOAD_ERROR",c.START_UPLOAD_SESSION_ERROR="START_UPLOAD_SESSION_ERROR",c.PAYLOAD_TOO_LARGE="PAYLOAD_TOO_LARGE",c.APPEND_BLOCK_ERROR="APPEND_BLOCK_ERROR",c.APPEND_BLOCK_MISSING_PARAMS="APPEND_BLOCK_MISSING_PARAMS",c.APPEND_INCORRECT_OFFSET="APPEND_INCORRECT_OFFSET",c.APPEND_INVALID_DATA_SIZE="APPEND_INVALID_DATA_SIZE",c.APPEND_INVALID_OFFSET="APPEND_INVALID_OFFSET",c.RATE_LIMIT_ERROR="RATE_LIMIT_ERROR",c.FILE_ALREADY_UPLOADING="FILE_ALREADY_UPLOADING",c.IOS_MALFORMED_IMAGE_ERROR="IOS_MALFORMED_IMAGE_ERROR",c.ENCRYPTED_FOLDER_KEY_VERIFICATION_REQUIRED="ENCRYPTED_FOLDER_KEY_VERIFICATION_REQUIRED",c.ENCRYPTED_FOLDER_CLIENT_NOT_ENROLLED_ERROR="ENCRYPTED_FOLDER_CLIENT_NOT_ENROLLED_ERROR",c.ENCRYPTED_FOLDER_NOT_SUPPORTED_FOR_CONTENT_MANAGER="ENCRYPTED_FOLDER_NOT_SUPPORTED_FOR_CONTENT_MANAGER",c.COMMIT_FILE_ENCRYPTION_INFO_MISSING="COMMIT_FILE_ENCRYPTION_INFO_MISSING",c.COMMIT_FILE_KEY_EXPIRED="COMMIT_FILE_KEY_EXPIRED",c.COMMIT_CONCURRENT_SESSION_DATA_NOT_ALLOWED="COMMIT_CONCURRENT_SESSION_DATA_NOT_ALLOWED",c.COMMIT_CONFLICT_ERROR="COMMIT_CONFLICT_ERROR",c.COMMIT_DISALLOWED_NAME="COMMIT_DISALLOWED_NAME",c.COMMIT_DOES_NOT_FIT_TEMPLATE="COMMIT_DOES_NOT_FIT_TEMPLATE",c.COMMIT_DUPLICATE_PROPERTY_GROUPS="COMMIT_DUPLICATE_PROPERTY_GROUPS",c.COMMIT_HTTP_ERROR="COMMIT_HTTP_ERROR",c.COMMIT_INVALID_ARGS="COMMIT_INVALID_ARGS",c.COMMIT_MALFORMED_PATH="COMMIT_MALFORMED_PATH",c.COMMIT_PERMISSIONS_ERROR="COMMIT_PERMISSIONS_ERROR",c.COMMIT_PROPERTY_FIELD_TOO_LARGE="COMMIT_PROPERTY_FIELD_TOO_LARGE",c.COMMIT_READINESS_ERROR="COMMIT_READINESS_ERROR",c.COMMIT_TEMPLATE_NOT_FOUND="COMMIT_TEMPLATE_NOT_FOUND",c.COMMIT_TOO_MANY_WRITES_ERROR="COMMIT_TOO_MANY_WRITES_ERROR",c.COMMIT_UNSUPPORTED_FOLDER="COMMIT_UNSUPPORTED_FOLDER",c.COMMIT_UPLOAD_SESSION_GENERIC_ERROR="COMMIT_UPLOAD_SESSION_GENERIC_ERROR",c.COMMIT_UPLOAD_SESSION_NOT_FOUND="COMMIT_UPLOAD_SESSION_NOT_FOUND",c.COMMIT_INVALID_PATH_ROOT_NS_ID="INVALID_PATH_ROOT_NS_ID",e.UploadErrorClass=void 0,(S=e.UploadErrorClass||(e.UploadErrorClass={})).IGNORED="IGNORED",S.REJECTED="REJECTED",S.ERROR="ERROR",e.OverQuotaStatusType=void 0,(R=e.OverQuotaStatusType||(e.OverQuotaStatusType={})).NONE="NONE",R.BASIC_OVER_QUOTA="BASIC_OVER_QUOTA",R.BASIC_NEAR_QUOTA="BASIC_NEAR_QUOTA",R.LIMITED_TEAM_USER_OVER_QUOTA="LIMITED_TEAM_USER_OVER_QUOTA",R.LIMITED_TEAM_TSD_OVER_QUOTA="LIMITED_TEAM_TSD_OVER_QUOTA",R.LOCKED_TEAM_USER_OVER_QUOTA="LOCKED_TEAM_USER_OVER_QUOTA",R.FSS_SUSPENDED_OVER_QUOTA="FSS_SUSPENDED_OVER_QUOTA",e.DrawerFilter=void 0,(O=e.DrawerFilter||(e.DrawerFilter={})).ALL="ALL",O.COMPLETED="COMPLETED",O.FAILED="FAILED",O.SKIPPED="SKIPPED";class g{constructor(e){const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>t)));Object.assign(this,g.defaultValues,t)}set(e,t){return new g({...this,[e]:t})}get(e){return this[e]}}g.defaultValues={uploadId:void 0,dest:"",ns_id:null,ns_path:null,userId:null,name:"",fileSize:0,percentUploaded:0,progressBarPercent:0,lastProgressTime:0,lastLogTime:0,isHangingUpload:!1,status:e.FileStatusType.SET_PERMISSIONS,statusBeforeRetry:null,errorType:e.UploadErrorType.GENERIC,errorMessage:"",batchId:void 0,chooserType:void 0,numSecondsLeft:0,uploadKitDest:"",isEncrypted:!1};const I={[r.UploadStatus.Staged]:e.FileStatusType.PENDING,[r.UploadStatus.Queued]:e.FileStatusType.PENDING,[r.UploadStatus.Uploading]:e.FileStatusType.UPLOADING,[r.UploadStatus.Success]:e.FileStatusType.COMPLETE,[r.UploadStatus.Error]:e.FileStatusType.FAILED,[r.UploadStatus.Cancelling]:e.FileStatusType.CANCELLING,[r.UploadStatus.Canceled]:e.FileStatusType.CANCELLED},D=o=>({path:"/",hasPermissionToUploadToFolder:!0,folderNsId:null,user:o,fileList:t.immutableExports.OrderedMap(),uploadIdToFileIdMap:t.immutableExports.Map(),sortedUploadIds:[],numDraggingFiles:0,isDropzoneActive:!1,isEncrypted:!1,currentlyActiveDropzone:"",currentlyActivePersistentDropzone:"",isInternalTransfer:!1,isMovingIntoVault:!1,isNetworkOffline:!1,isPermissionsAtUploadModalOpen:!1,numSecondsLeft:0,currentFileNumSecondsLeft:0,confirmedFSWs:[],confirmedFSWBatchIds:[],hasOverquotaError:!1,allUploadsComplete:!1,teamAccessLevelsDefinition:new T,targetSurface:"none",overQuotaStatus:e.OverQuotaStatusType.NONE,uploadModalType:null,lastFileUploadMethod:"upm",uiExpanded:!1,uiDismissed:!1,isFileUploaderInitialized:!1,isFolder:!1,takeoverStatus:"not_shown"});var f;e.UploadStatus=void 0,(f=e.UploadStatus||(e.UploadStatus={})).COMPLETE="COMPLETE",f.PENDING="PENDING",f.ERROR="ERROR",f.UPLOADING="UPLOADING",f.FINALIZING="FINALIZING",f.PAUSED="PAUSED",f.CANCELED="CANCELED",f.PARTIAL_FAILURE="PARTIAL_FAILURE";const A=(e,o)=>t.getStateAtNamespace(e,t.UPLOAD_NAMESPACE_KEY)||D(o),L=e=>t=>A(t,e.active_user).fileList,b=e=>t=>A(t,e.active_user).sortedUploadIds,P=e=>t.createSelector$1([L(e),b(e)],((e,t)=>t.map((t=>e.get(t))))),N=o=>t.createSelector$1([P(o),(e,t)=>t],((t,o)=>t.filter((({lastProgressTime:t,status:r})=>t>=o||r===e.FileStatusType.PENDING||r===e.FileStatusType.UPLOADING)))),M=e=>t=>A(t,e.active_user).user,v=e=>t=>A(t,e.active_user).path,U=e=>t=>A(t,e.active_user).isNetworkOffline;t.injectInternalStyle("/static/metaserver/static/js/file_uploader/clean/upload.module.out-vflf1hvPM.css",(e=>'._outlineOuterPersistent_19ebr_1{min-height:240px}._outlineOuterPersistent_19ebr_1,._outlineOuterPersistentEmpty_19ebr_10{align-items:center;display:flex;position:relative;width:100%;z-index:0}._outlineOuterPersistentEmpty_19ebr_10{height:calc(80vh - 350px);left:-28px}.browse-view ._outlineOuterPersistent_19ebr_1{left:0}.browse-view ._outlineOuterPersistentEmpty_19ebr_10{left:0}._outlinePersistentResponsive_19ebr_31{left:0}._outlineContainer_19ebr_35{bottom:1px;left:1px;pointer-events:none;position:absolute;right:1px;top:1px;z-index:1100}@media (max-width:735px){._outlineContainer_19ebr_35{left:var(--spacing__unit--2)}}._modalSubtitle_19ebr_52{display:inline-block;margin-bottom:var(--spacing__unit--1);margin-left:var(--spacing__unit--3)}._dropzoneOutline_19ebr_58{border:2px dashed var(--dig-color__primary__base);box-sizing:border-box}._dropzonePersistentOutline_19ebr_63{border:2px dashed var(--dig-color__border__base);box-sizing:border-box}._dropzonePersistentOutlineActive_19ebr_68{background-color:var(--dig-color__primary__surface);border:2px dashed var(--dig-color__primary__base);box-sizing:border-box}._fileExplorerExtraStyles_19ebr_74{margin-right:5px;top:35px}._dropzoneContainer_19ebr_79{background-color:var(--dig-color__background__base);border-radius:3px;color:var(--dig-color__text__base);font-size:20px;font-weight:700;left:0;position:absolute;text-align:center;top:0;vertical-align:middle;z-index:1001}._modalDropzone_19ebr_93{animation:_dropzone-opacity-off_19ebr_1 .5s normal forwards;display:none;height:100%;position:absolute;width:100%}._dropzoneVisible_19ebr_101{align-items:center;animation:_dropzone-opacity-on_19ebr_1 .5s normal forwards;background-color:var(--dig-color__background__base);display:flex;justify-content:center;z-index:1001}._drawerRowButton_19ebr_110{flex-shrink:0;height:auto;max-width:100px;min-height:32px;white-space:pre-wrap}._drawerRowFileActionsButtonContainer_19ebr_118{display:flex;gap:8px}._drawerRowFileActionsIcon_19ebr_123{margin-left:-4px;margin-right:-4px}._drawerRowButtonRedesign_19ebr_128{max-width:124px;min-height:24px}._drawerCloseButton_19ebr_133{margin-left:var(--spacing__unit--0_5)}._drawerFooterButton_19ebr_137{margin-right:var(--spacing__unit--2)!important}._drawerBannerContainer_19ebr_141{background-color:var(--dig-color__background__base);position:sticky;top:0;width:100%}._organizeRecommendation_19ebr_148{align-items:center;display:flex}._organizeRecommendationDestinationWrapper_19ebr_153{display:flex;margin-left:calc(var(--spacing__unit--1)*10)}._organizeRecommendationDestination_19ebr_153{color:var(--dig-color__text__subtle);text-decoration:underline}._organizeRecommendationAction_19ebr_164,._organizeRecommendationActionHidden_19ebr_165,._organizeRecommendationDestination_19ebr_153{margin-left:var(--spacing__unit--0_5)}._organizeRecommendationActionHidden_19ebr_165{visibility:hidden}._organizeRecommendationAcceptButton_19ebr_173{margin-right:var(--spacing__unit--0_5)}._organizeRecommendationAcceptButton_19ebr_173,._organizeRecommendationDismissButton_19ebr_178{margin-bottom:calc(var(--spacing__unit--0_5)/2);margin-top:calc(var(--spacing__unit--0_5)/2)}@media (max-width:735px){._drawer_19ebr_110{margin-bottom:0!important;margin-right:0!important;width:100%!important}}@keyframes _dropzone-opacity-on_19ebr_1{0%{opacity:0}to{opacity:1}}@keyframes _dropzone-opacity-off_19ebr_1{0%{opacity:1}to{display:none;opacity:0}}._folderModalTitle_19ebr_215{align-items:center;display:flex;gap:var(--spacing__unit--1)}._buttonText_19ebr_221{line-height:12px}._emptyStateViewContainer_19ebr_226{align-items:center;color:var(--dig-color__text__subtle);display:flex;flex:auto;flex-direction:column;justify-content:center}._emptyStateViewIcon_19ebr_235{margin-bottom:var(--spacing__unit--1)}._emptyStateViewLabel_19ebr_239{margin-bottom:var(--spacing__unit--3)}._drawerHeaderRightElementButtonGroup_19ebr_243{align-items:center;display:flex;flex-direction:row}._shareBanner_19ebr_249{display:flex;justify-content:flex-start;margin:0 var(--spacing__unit--1) 0 var(--spacing__unit--1);padding:var(--spacing__unit--1) var(--spacing__unit--1)}._shareBannerTextContainer_19ebr_256{display:flex;flex-direction:column;padding-right:60px}._shareBannerText_19ebr_256{margin-bottom:var(--dig-spacing__micro__medium)}._shareBannerLink_19ebr_266{color:var(--dig-color__text__subtle);text-underline-offset:var(--dig-spacing__micro__xsmall)}._downloadDesktopBannerIconContainer_19ebr_271{margin-right:var(--dig-spacing__micro__large)}._downloadDesktopBannerContent_19ebr_275,._downloadDesktopBannerTitle_19ebr_279{display:block}._downloadDesktopBannerSubtext_19ebr_283{color:var(--dig-color__text__subtle)}._takeover_19ebr_288{align-items:center;background-color:transparent;display:flex;flex-direction:column;height:calc(100% - 60px);justify-content:center;left:0;overflow:hidden;position:absolute;right:0;top:60px;transition:opacity .5s ease-in-out,transform .5s ease-in-out;z-index:100}._takeover_19ebr_288._reversed_19ebr_306{opacity:0;transform:translateY(100%)}._takeover_19ebr_288:before{animation:_fill-up_19ebr_1 .5s forwards;background-color:var(--dig-color__success__base);bottom:0;content:"";height:0;left:0;position:absolute;width:100%}._takeover-button_19ebr_324,._takeover-button-icon_19ebr_325,._takeover-dismiss-button_19ebr_326,._takeover-dismiss-suggestion-button_19ebr_327,._takeover-header_19ebr_322,._takeover-subtext_19ebr_323{animation:_fade-in_19ebr_1 .5s ease-out .5s forwards;opacity:0;z-index:1}._takeover-button-icon_19ebr_325,._takeover-button-text_19ebr_336,._takeover-dismiss-suggestion-text_19ebr_338,._takeover-dismiss-text_19ebr_337,._takeover-header_19ebr_322,._takeover-subtext_19ebr_323{color:var(--dig-color__success__on-base)}._takeover-button-text_19ebr_336,._takeover-dismiss-suggestion-text_19ebr_338,._takeover-dismiss-text_19ebr_337{font-family:var(--type__title__standard--fontfamily);font-size:12pt;font-weight:var(--type__title__small--fontweight_strong)}._takeover-dismiss-suggestion-text_19ebr_338{font-size:11pt}._takeover-subtext_19ebr_323{margin-top:var(--dig-spacing__micro__xsmall)}._takeover-button_19ebr_324,._takeover-dismiss-button_19ebr_326,._takeover-dismiss-suggestion-button_19ebr_327{border-color:var(--dig-color__success__on-base)}._takeover-button_19ebr_324{margin-top:14px}._takeover-dismiss-button_19ebr_326{margin-top:var(--dig-spacing__micro__medium)}._takeover-dismiss-suggestion-button_19ebr_327{bottom:var(--dig-spacing__micro__large);position:absolute}@keyframes _fill-up_19ebr_1{to{height:100%}}@keyframes _fade-in_19ebr_1{0%{opacity:0}to{opacity:1}}@keyframes _slide-up_19ebr_1{0%{height:0;padding:0 var(--dig-spacing__micro__large);transform:translateY(100%)}to{height:auto;padding:var(--dig-spacing__micro__large) var(--dig-spacing__micro__large);transform:translateY(0)}}._downloadDesktopBannerBottomPrompt_19ebr_409{animation:_slide-up_19ebr_1 .8s ease-out forwards;background-color:var(--dig-color__background__base);margin:0;padding:var(--dig-spacing__micro__large);transform-origin:bottom;will-change:transform,height,padding}._downloadDesktopBannerBottomPrompt_19ebr_409>span{align-items:center;display:flex;flex-direction:row}._downloadDesktopBannerBottomPromptButton_19ebr_425{margin:var(--dig-spacing__micro__small)}._downloadDesktopBanner2Content_19ebr_429{align-items:center;display:flex;flex-direction:row;gap:var(--dig-spacing__micro__medium);width:100%}._downloadDesktopBanner2IconContainer_19ebr_437{flex-shrink:0;margin-right:var(--dig-spacing__micro__small)}._downloadDesktopBanner2Title_19ebr_442{color:var(--dig-color__text__base);font-weight:var(--type__title__small--fontweight_strong);margin-bottom:0}._downloadDesktopBanner2Subtext_19ebr_448{color:var(--dig-color__text__subtle);font-size:var(--type__body__small--fontsize);margin-bottom:0}._downloadDesktopBanner2Button_19ebr_454{background-color:var(--dig-color__background__base);border-color:var(--dig-color__border__subtle);color:var(--dig-color__text__base);margin:0 0 0 auto;padding:var(--dig-spacing__micro__small) var(--dig-spacing__micro__medium)}'));const C={outlineOuterPersistent:"_outlineOuterPersistent_19ebr_1",outlineOuterPersistentEmpty:"_outlineOuterPersistentEmpty_19ebr_10",outlinePersistentResponsive:"_outlinePersistentResponsive_19ebr_31",outlineContainer:"_outlineContainer_19ebr_35",modalSubtitle:"_modalSubtitle_19ebr_52",dropzoneOutline:"_dropzoneOutline_19ebr_58",dropzonePersistentOutline:"_dropzonePersistentOutline_19ebr_63",dropzonePersistentOutlineActive:"_dropzonePersistentOutlineActive_19ebr_68",fileExplorerExtraStyles:"_fileExplorerExtraStyles_19ebr_74",dropzoneContainer:"_dropzoneContainer_19ebr_79",modalDropzone:"_modalDropzone_19ebr_93",dropzoneOpacityOff:"_dropzone-opacity-off_19ebr_1",dropzoneVisible:"_dropzoneVisible_19ebr_101",dropzoneOpacityOn:"_dropzone-opacity-on_19ebr_1",drawerRowButton:"_drawerRowButton_19ebr_110",drawerRowFileActionsButtonContainer:"_drawerRowFileActionsButtonContainer_19ebr_118",drawerRowFileActionsIcon:"_drawerRowFileActionsIcon_19ebr_123",drawerRowButtonRedesign:"_drawerRowButtonRedesign_19ebr_128",drawerCloseButton:"_drawerCloseButton_19ebr_133",drawerFooterButton:"_drawerFooterButton_19ebr_137",drawerBannerContainer:"_drawerBannerContainer_19ebr_141",organizeRecommendation:"_organizeRecommendation_19ebr_148",organizeRecommendationDestinationWrapper:"_organizeRecommendationDestinationWrapper_19ebr_153",organizeRecommendationDestination:"_organizeRecommendationDestination_19ebr_153",organizeRecommendationAction:"_organizeRecommendationAction_19ebr_164",organizeRecommendationActionHidden:"_organizeRecommendationActionHidden_19ebr_165",organizeRecommendationAcceptButton:"_organizeRecommendationAcceptButton_19ebr_173",organizeRecommendationDismissButton:"_organizeRecommendationDismissButton_19ebr_178",drawer:"_drawer_19ebr_110",folderModalTitle:"_folderModalTitle_19ebr_215",buttonText:"_buttonText_19ebr_221",emptyStateViewContainer:"_emptyStateViewContainer_19ebr_226",emptyStateViewIcon:"_emptyStateViewIcon_19ebr_235",emptyStateViewLabel:"_emptyStateViewLabel_19ebr_239",drawerHeaderRightElementButtonGroup:"_drawerHeaderRightElementButtonGroup_19ebr_243",shareBanner:"_shareBanner_19ebr_249",shareBannerTextContainer:"_shareBannerTextContainer_19ebr_256",shareBannerText:"_shareBannerText_19ebr_256",shareBannerLink:"_shareBannerLink_19ebr_266",downloadDesktopBannerIconContainer:"_downloadDesktopBannerIconContainer_19ebr_271",downloadDesktopBannerContent:"_downloadDesktopBannerContent_19ebr_275",downloadDesktopBannerTitle:"_downloadDesktopBannerTitle_19ebr_279",downloadDesktopBannerSubtext:"_downloadDesktopBannerSubtext_19ebr_283",takeover:"_takeover_19ebr_288",reversed:"_reversed_19ebr_306",fillUp:"_fill-up_19ebr_1",takeoverButton:"_takeover-button_19ebr_324",takeoverButtonIcon:"_takeover-button-icon_19ebr_325",takeoverDismissButton:"_takeover-dismiss-button_19ebr_326",takeoverDismissSuggestionButton:"_takeover-dismiss-suggestion-button_19ebr_327",takeoverHeader:"_takeover-header_19ebr_322",takeoverSubtext:"_takeover-subtext_19ebr_323",fadeIn:"_fade-in_19ebr_1",takeoverButtonText:"_takeover-button-text_19ebr_336",takeoverDismissSuggestionText:"_takeover-dismiss-suggestion-text_19ebr_338",takeoverDismissText:"_takeover-dismiss-text_19ebr_337",downloadDesktopBannerBottomPrompt:"_downloadDesktopBannerBottomPrompt_19ebr_409",slideUp:"_slide-up_19ebr_1",downloadDesktopBannerBottomPromptButton:"_downloadDesktopBannerBottomPromptButton_19ebr_425",downloadDesktopBanner2Content:"_downloadDesktopBanner2Content_19ebr_429",downloadDesktopBanner2IconContainer:"_downloadDesktopBanner2IconContainer_19ebr_437",downloadDesktopBanner2Title:"_downloadDesktopBanner2Title_19ebr_442",downloadDesktopBanner2Subtext:"_downloadDesktopBanner2Subtext_19ebr_448",downloadDesktopBanner2Button:"_downloadDesktopBanner2Button_19ebr_454"},F={};function y(e){(null==e?void 0:e.feature)&&(null==e?void 0:e.variant)&&F[e.feature]!==(null==e?void 0:e.variant)&&t.logExposure(e)&&(F[e.feature]=null==e?void 0:e.variant)}function h(){return w()}function w(){let e="";for(let t=0;t<16;++t)e+=String.fromCharCode(Math.floor(256*Math.random()));let t=a.encode(e);return t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"_"),t=t.replace(/\=*$/,""),t}function x(e,o){return!e.is_team||!e.is_cdm_member&&!e.is_tmr_member||""!==t.normalize(o)&&(t.paths_are_equal(e.cdm_tmf_path,o)||t.inSubDirectory(e.cdm_tmf_path,o))}const B=["action_commit_to_tsd_root","action_missing_parent"];function k(e,o){let r=e.dest;const a=G(o);for(;G(r)-1>a;)r=t.parent_dir(r);return r}function z(e,t){const o=e.toArray().map((e=>k(e,t)));return Array.from(new Set(o))}function G(e){return(t.normalize(e).match(/\//g)||[]).length+1}const V=m.default.createElement("div",{className:C.folderModalTitle},m.default.createElement("span",null,s.intl.formatMessage({id:"2sJoAc",defaultMessage:"Upload file in..."})),m.default.createElement(t.Toggletip,{"aria-label":"More information",iconButtonSize:"standard",title:s.intl.formatMessage({id:"Grmp0v",defaultMessage:"Choose a folder you have access to"})})),H=(e,o,r,a)=>{const _=t.Emstring.em_snippet(t.filename(o),r);return"/"===o?e?s.intl.formatMessage({id:"WVZZHR",defaultMessage:"move to your {team_name} Dropbox"},{team_name:a}):s.intl.formatMessage({id:"hem9Id",defaultMessage:"upload to your {team_name} Dropbox"},{team_name:a}):e?s.intl.formatMessage({id:"3a470t",defaultMessage:"move to the folder ‘{folder}’ in your {team_name} Dropbox"},{folder:_,team_name:a}):s.intl.formatMessage({id:"dFFTlY",defaultMessage:"upload to the folder ‘{folder}’ in your {team_name} Dropbox"},{folder:_,team_name:a})},Q=(e,o,r)=>{const a=t.Emstring.em_snippet(t.filename(o),r);return"/"===o?e?s.intl.formatMessage({id:"A6CSgP",defaultMessage:"move to your personal Dropbox"}):s.intl.formatMessage({id:"2iuZ56",defaultMessage:"upload to your personal Dropbox"}):e?s.intl.formatMessage({id:"UkMBRP",defaultMessage:"move to the folder ‘{folder}’ in your personal Dropbox"},{folder:a}):s.intl.formatMessage({id:"ezK+EU",defaultMessage:"upload to the folder ‘{folder}’ in your personal Dropbox"},{folder:a})},K=(e,o,r)=>{const a=t.Emstring.em_snippet(t.filename(o),r);return"/"===o?e?s.intl.formatMessage({id:"vUFruV",defaultMessage:"move to your Dropbox"}):s.intl.formatMessage({id:"te1cSD",defaultMessage:"upload to your Dropbox"}):e?s.intl.formatMessage({id:"j1nTLI",defaultMessage:"move to the folder ‘{folder}’"},{folder:a}):s.intl.formatMessage({id:"bgpbuT",defaultMessage:"upload to the folder ‘{folder}’"},{folder:a})},Y=async()=>{const e=(await t.fetchExperiment("upload_batch_append")).experiment;return y(e),(null==e?void 0:e.variant)||"OFF"};var W;e.DestinationFolderActionSource=void 0,(W=e.DestinationFolderActionSource||(e.DestinationFolderActionSource={})).UploadsGroupingHeaderRow="uploads_grouping_header_row",W.UploadFileRow="upload_file_row";const X=t=>t.status===e.FileStatusType.CANCELLING||t.status===e.FileStatusType.CANCELLED||t.statusBeforeRetry===e.FileStatusType.CANCELLED,Z=e=>e.status===r.UploadStatus.Cancelling||e.status===r.UploadStatus.Canceled,$=t=>t.status===e.FileStatusType.FAILED||t.statusBeforeRetry===e.FileStatusType.FAILED,j=e=>e.status===r.UploadStatus.Error,q=t=>{const o=[],r=[],a=[],s=[];return t.forEach((t=>{$(t)?r.push(t.uploadId):(t=>t.status===e.FileStatusType.SKIPPED)(t)?a.push(t.uploadId):X(t)?s.push(t.uploadId):o.push(t.uploadId)})),[...o,...r,...a,...s]},J=n.once((o=>t.createSlice({name:"UPLOAD",initialState:D(o),reducers:{setUiDismissed(e,{payload:t}){e.uiDismissed=t},setUiExpanded(e,{payload:t}){e.uiExpanded=t},setUser(e,{payload:t}){t&&(e.user=t)},setPath(e,{payload:t}){const{path:o,hasPermissionToUploadToFolder:r=!0,isMovingIntoVault:a=!1,targetSurface:s="none",isEncrypted:_=!1}=t;e.path=o,e.hasPermissionToUploadToFolder=r,e.isMovingIntoVault=a,e.targetSurface=s,e.isEncrypted=_},setFolderNsId(e,{payload:t}){e.folderNsId=t},setHasOverquotaError(e,{payload:t}){e.hasOverquotaError=t},setUploadIdToFileIdMap(e,{payload:t}){e.uploadIdToFileIdMap=e.uploadIdToFileIdMap.withMutations((e=>{t.forEach((t=>{e.set(t[0],t[1])}))}))},addTeamLevelAccess(e,{payload:t}){e.teamAccessLevelsDefinition=e.teamAccessLevelsDefinition.addTeamAccessLevel(t.path,t.accessLevel)},resetTeamAccessLevel(e){e.teamAccessLevelsDefinition=new T},queueUploads(e,{payload:o}){const r={};for(const e of o)r[e.uploadId]=e;e.fileList=t.immutableExports.OrderedMap(r).merge(e.fileList),e.sortedUploadIds=[...o.map((e=>e.uploadId)),...e.sortedUploadIds]},removeUploads(e,{payload:t}){const o=new Set(t.map((e=>e.uploadId)));e.fileList=e.fileList.filterNot(((e,t)=>o.has(t))),e.sortedUploadIds=e.sortedUploadIds.filter((e=>!o.has(e)))},readyUploads(t,{payload:o}){for(const r of o)t.fileList=t.fileList.update(r.uploadId,(t=>t.set("status",e.FileStatusType.PENDING)))},resetUploadProgress(e,{payload:t}){t.forEach((t=>{e.fileList=e.fileList.update(t.uploadId,(e=>e.set("percentUploaded",0).set("progressBarPercent",0).set("numSecondsLeft",0).set("statusBeforeRetry",e.status)))}))},setUploadsProgressBar(e,{payload:t}){e.fileList=e.fileList.withMutations((e=>{t.forEach((t=>{const o=Math.max(t.percentUploaded-t.progressBarPercent,0),r=t.progressBarPercent+o/20,a=t.set("progressBarPercent",r);e.set(a.uploadId,a)}))}))},setUploadsHanging(e,{payload:t}){e.fileList=e.fileList.withMutations((e=>{t.forEach((t=>{let o=t.set("isHangingUpload",!0);o=o.set("lastLogTime",performance.now()),e.set(o.uploadId,o)}))}))},handleUploadError(e,{payload:t}){const{uploadId:o,errorType:r,errorMessage:a}=t,s=e.fileList.get(o);s&&(e.fileList=e.fileList.update(s.uploadId,(e=>{let o=e.set("errorType",r).set("errorMessage",a);return t.fileStatusType&&(o=o.set("status",t.fileStatusType).set("lastProgressTime",performance.now())),o}))),e.sortedUploadIds=q(e.fileList)},updateFileStatuses(e,{payload:t}){let o=!1;e.fileList=e.fileList.withMutations((e=>{o=!1,t.uploadKitFiles.forEach((t=>{var r,a;e.has(t.id)&&(!o&&(r=t,a=e.get(t.id),j(r)&&!$(a)||!j(r)&&$(a)||Z(r)&&!X(a)||!Z(r)&&X(a))&&(o=!0),e.update(t.id,(e=>e.set("status",I[t.status]))))}))})),o&&(e.sortedUploadIds=q(e.fileList))},setNumDraggingFiles(e,{payload:t}){const{numDraggingFiles:o,isInternalTransfer:r=!1}=t;e.numDraggingFiles=o,e.isInternalTransfer=r},setIsPermissionsAtUploadModalOpen(e,{payload:t}){e.isPermissionsAtUploadModalOpen=t},setDropzoneActive(e,{payload:t}){const{isDropzoneActive:o}=t;e.isDropzoneActive=o},setDraggedPersistentDropzone(e,{payload:t}){const{activeDropzone:o}=t;e.currentlyActivePersistentDropzone=o},clearDraggedPersistentDropzone(e){e.currentlyActivePersistentDropzone=""},clearDraggedOuterDropzone(e){e.currentlyActiveDropzone=""},setCurrentlyDraggedOuterDropzone(e,{payload:t}){const{activeDropzone:o}=t;e.currentlyActiveDropzone=o},addNewFailedFile(t,{payload:o}){const{file:r,errorType:a,errorMessage:s}=o;let _=r;null==_.uploadId&&(_=_.set("uploadId",h())),_=_.set("status",e.FileStatusType.FAILED).set("errorType",a).set("errorMessage",s).set("lastProgressTime",performance.now()),t.fileList=t.fileList.set(_.uploadId,_),t.sortedUploadIds=q(t.fileList)},addNewSkippedFiles(t,{payload:o}){for(const r of o){const{file:o,errorType:a,errorMessage:s}=r;let _=o;null==_.uploadId&&(_=_.set("uploadId",h())),_=_.set("status",e.FileStatusType.SKIPPED).set("errorType",a).set("errorMessage",s).set("lastProgressTime",performance.now()),t.fileList=t.fileList.set(_.uploadId,_)}t.sortedUploadIds=q(t.fileList)},confirmFSW(e,{payload:t}){const{fswIds:o,batchId:r}=t;o.forEach((t=>{e.confirmedFSWs.includes(t)||e.confirmedFSWs.push(t)})),r&&!e.confirmedFSWBatchIds.includes(r)&&e.confirmedFSWBatchIds.push(r)},setUploadProgress(e,{payload:t}){e.fileList=e.fileList.withMutations((o=>{t.forEach((t=>{const{uploadId:r,percentComplete:a,numSecondsLeft:s,secondsLeftForFile:_,lastProgressTime:i,isHangingUpload:n}=t;r&&(o.update(r,(e=>e.set("percentUploaded",a))),void 0!==s&&(e.numSecondsLeft=s),_&&o.update(r,(e=>e.set("numSecondsLeft",_))),i&&o.update(r,(e=>e.set("lastProgressTime",i))),n&&o.update(r,(e=>e.set("isHangingUpload",n))))}))}))},setUploadModalType(e,{payload:t}){e.uploadModalType=t},setLastFileUploadMethod(e,{payload:t}){e.lastFileUploadMethod=t},setIsFileUploaderInitialized(e,{payload:t}){e.isFileUploaderInitialized=t},setIsNetworkOffline(e,{payload:t}){e.isNetworkOffline=t},setOverQuotaDetails(e,{payload:t}){e.overQuotaDetails=t},setOverQuotaStatus(e,{payload:t}){e.overQuotaStatus=t},setIsFolder(e,{payload:t}){e.isFolder=t},setTakeoverStatus(e,{payload:t}){e.takeoverStatus=t}}})));function ee(e){return J(e).reducer}let te;e.FileUpload=g,e.REPLAY_DISCO_PLG_EXP_1_ALL_VARIANT_2=["VIDEO_AUDIO_V2","IMAGE_V2","PDF_V2"],e.calculateBytesUploaded=function(t){return t.reduce(((t,o)=>(o.status===e.FileStatusType.COMPLETE?t+=o.fileSize:o.status===e.FileStatusType.UPLOADING&&(t+=o.percentUploaded/100*o.fileSize),t)),0)},e.calculateSizeOfUploads=function(e,t){let o=0;return e.forEach((e=>{-1!==t.indexOf(e.status)&&(o+=e.fileSize)})),o},e.classes=C,e.determineOverQuotaStatus=async({pathStartsWithCdmTmfPath:o,user:r,tsdQuotaUsageRatio:a,inExcludedNses:s,userQuotaUsageRatio:i,viewer:n})=>{if(_.assert(null!=r,"user is null"),r.paid||s)return e.OverQuotaStatusType.NONE;if(r.role===t.ROLE_PERSONAL){if(i>1)return e.OverQuotaStatusType.BASIC_OVER_QUOTA;if(i>.9)return e.OverQuotaStatusType.BASIC_NEAR_QUOTA}if(r.is_team&&n.team_is_limited)if(r.is_cdm_member&&!o){if(a>1)return e.OverQuotaStatusType.LIMITED_TEAM_TSD_OVER_QUOTA}else if(i>1)return e.OverQuotaStatusType.LIMITED_TEAM_USER_OVER_QUOTA;if(r.is_team&&n.team_is_locked)return e.OverQuotaStatusType.LOCKED_TEAM_USER_OVER_QUOTA;if(r.is_team&&i>1){const{isMultiProductTeam:o,isSuspendedMap:a}=await async function(e){const o=new t.DefaultUserApiV2Client(e).ns("cross_product_suspend"),r=await o.rpc("get_suspended_subscriptions_info_for_team",void 0,{});return{isMultiProductTeam:r.is_multi_product_team,isSuspendedMap:r.is_suspended_map}}(r);if(o&&a&&a.fss_team)return e.OverQuotaStatusType.FSS_SUSPENDED_OVER_QUOTA}return e.OverQuotaStatusType.NONE},e.drawerRowFileActionsButtonContainer="_drawerRowFileActionsButtonContainer_19ebr_118",e.folderModalTitle=V,e.generateBatchId=function(){return"batch-"+w()},e.generateTaskTrackingId=function(){return"task-"+w()},e.getConfirmedFSWBatchIdsSelector=e=>t=>A(t,e.active_user).confirmedFSWBatchIds,e.getConfirmedFSWsSelector=e=>t=>A(t,e.active_user).confirmedFSWs,e.getCurrentActionScreen=()=>{const e=t.get_pathname();return"/h"===e?"home_screen":"/recents"===e?"recents_screen":"/starred"===e?"starred_screen":e.startsWith("/share")?"shared":"/requests"===e?"file_requests":"/deleted_files"===e?"deleted_files":e.startsWith("/team/admin")?"content_manager":e.startsWith("/collections")?"collections_details_page":e.startsWith("/for_you")?"for_you":e.startsWith("/onboarding")?"onboarding":"browse_screen"},e.getCurrentBatchFileListSelector=N,e.getCurrentlyActiveOuterDropzoneSelector=e=>t=>A(t,e.active_user).currentlyActiveDropzone,e.getCurrentlyActivePersistentDropzoneSelector=e=>t=>A(t,e.active_user).currentlyActivePersistentDropzone,e.getDefaultDragAndDrop=async()=>{const e=(await t.fetchExperiment("default_drag_and_drop")).experiment;return y(e),(null==e?void 0:e.variant)||"OFF"},e.getDestination=(e,t,o,r)=>e||t?e||s.intl.formatMessage({id:"tWz/Xr",defaultMessage:"Files"}):i.get_browse_root_name(o,r),e.getDestinationFolderName=e=>{let t=e;return e.includes("/")&&(t=e.split("/").slice(-1)[0]),t},e.getFSWMetadataToLog=function(e){return{has_permissions:e.includes("action_commit_to_tsd_root"),has_permissions_nonroot:e.includes("action_missing_parent"),has_other:e.some((e=>!B.includes(e)))}},e.getFileListSelector=L,e.getFileType=e=>t.getFileTypeFromString(t.file_extension(e.name)),e.getFileUploadsWithStatus=function(e,t){return e.valueSeq().toArray().filter((e=>t.includes(e.status)))},e.getFilesForBatchSelector=e=>(t,o)=>L(e)(t).filter((e=>e.batchId===o)),e.getFilteredFileListSelector=o=>t.createSelector$1([P(o),(e,t)=>t],((t,o)=>{switch(o){case e.DrawerFilter.COMPLETED:return t.filter((t=>t.status===e.FileStatusType.COMPLETE));case e.DrawerFilter.FAILED:return t.filter((t=>t.status===e.FileStatusType.FAILED));case e.DrawerFilter.SKIPPED:return t.filter((t=>t.status===e.FileStatusType.SKIPPED));default:return t}})),e.getFolderDestinationType=(e,o)=>{const r=t.depth(o);return e.is_team?0===r?"team_root":x(e,o)?1===r?"team_member_root":"folder":"team_folder":0===r?"root":"folder"},e.getFolderLevel=G,e.getGlobalPercentUploadedSelector=o=>t.createSelector$1(L(o),(t=>{let o=0,r=1;return t.map((t=>{t.status!==e.FileStatusType.PENDING&&t.status!==e.FileStatusType.UPLOADING&&t.status!==e.FileStatusType.COMPLETE||(o+=t.percentUploaded*t.fileSize,r+=t.fileSize)})),Math.max(Math.round(o/r),0)})),e.getHasPermissionToUploadToFolderSelector=e=>t=>A(t,e.active_user).hasPermissionToUploadToFolder,e.getInflightUploadsSelector=o=>t.createSelector$1(L(o),(t=>t.filter((t=>t.status===e.FileStatusType.UPLOADING)))),e.getIsDraggingFilesSelector=e=>t=>A(t,e.active_user).numDraggingFiles>0,e.getIsEncrypted=(e,t)=>A(e,t.active_user).isEncrypted,e.getIsFolderSelector=e=>t=>A(t,e.active_user).isFolder,e.getIsInternalTransferSelector=e=>t=>A(t,e.active_user).isInternalTransfer,e.getIsNetworkOfflineSelector=U,e.getLastFileUploadMethodSelector=e=>t=>A(t,e.active_user).lastFileUploadMethod,e.getNextUploadSelector=o=>t.createSelector$1(L(o),(t=>t.find((t=>t.status===e.FileStatusType.PENDING)))),e.getNumDraggingFilesSelector=e=>t=>A(t,e.active_user).numDraggingFiles,e.getNumSecondsLeftSelector=e=>t=>A(t,e.active_user).numSecondsLeft,e.getOQmodalOQALocationCode=e=>"/h"===(e||t.get_uri().path)?"ho":"fb",e.getOverQuotaDetailsSelector=e=>t=>A(t,e.active_user).overQuotaDetails,e.getOverQuotaStatusSelector=e=>t=>A(t,e.active_user).overQuotaStatus,e.getOverallUploadStatusSelector=o=>t.createSelector$1([U(o),N(o)],((t,o)=>t?e.UploadStatus.PAUSED:(t=>t.every((t=>(null==t?void 0:t.status)===e.FileStatusType.CANCELLED||(null==t?void 0:t.status)===e.FileStatusType.SKIPPED)))(o)?e.UploadStatus.CANCELED:(t=>t.some((t=>(null==t?void 0:t.status)===e.FileStatusType.UPLOADING||(null==t?void 0:t.status)===e.FileStatusType.PENDING||(null==t?void 0:t.status)===e.FileStatusType.SET_PERMISSIONS)))(o)?e.UploadStatus.UPLOADING:(t=>t.some((t=>(null==t?void 0:t.status)===e.FileStatusType.FAILED)))(o)?e.UploadStatus.ERROR:(t=>t.some((t=>(null==t?void 0:t.status)===e.FileStatusType.SKIPPED||(null==t?void 0:t.status)===e.FileStatusType.FAILED)))(o)?e.UploadStatus.PARTIAL_FAILURE:e.UploadStatus.COMPLETE)),e.getPathSelector=v,e.getPathStartsWithCdmTmfPathSelector=e=>t=>{const o=v(e),r=M(e),a=o(t),s=r(t);if(!s)return!1;const _=s.cdm_tmf_path;return!(!_||!a.startsWith(_))},e.getPendingUploadsSelector=o=>t.createSelector$1(L(o),(t=>t.filter((t=>t.status===e.FileStatusType.UPLOADING||t.status===e.FileStatusType.PENDING)))),e.getRootDest=k,e.getSortedIdsSelector=b,e.getStatusAriaLabel=(t,o)=>{switch(t){case e.UploadStatus.UPLOADING:return o.formatMessage({id:"/irRX1",defaultMessage:"Uploading file"});case e.UploadStatus.FINALIZING:return o.formatMessage({id:"w3VLBd",defaultMessage:"Finalizing file upload"});case e.UploadStatus.PENDING:return o.formatMessage({id:"tLcl8h",defaultMessage:"Upload pending"});case e.UploadStatus.ERROR:return o.formatMessage({id:"st5ds8",defaultMessage:"Upload error"});case e.UploadStatus.COMPLETE:return o.formatMessage({id:"vbkt6t",defaultMessage:"Upload complete"});case e.UploadStatus.PAUSED:return o.formatMessage({id:"TSiLkx",defaultMessage:"Upload paused"});case e.UploadStatus.CANCELED:return o.formatMessage({id:"GNFIUo",defaultMessage:"Upload canceled"});case e.UploadStatus.PARTIAL_FAILURE:return o.formatMessage({id:"f+U8VY",defaultMessage:"Some uploads failed"})}},e.getStoreForUpload=e=>(te||(te=t.getStoreAndRegisterReducers({[t.UPLOAD_NAMESPACE_KEY]:ee(e)})),te),e.getTakeoverStatusSelector=e=>t=>A(t,e.active_user).takeoverStatus,e.getTargetSurfaceSelector=e=>t=>A(t,e.active_user).targetSurface,e.getTeamAccessLevel=(e,t,o)=>A(e,t.active_user).teamAccessLevelsDefinition.getTeamAccessLevel(o),e.getTeamAccessLevelsDefinitionSelector=e=>t=>A(t,e.active_user).teamAccessLevelsDefinition,e.getUiCanShowSelector=e=>t.createSelector$1(L(e),(e=>e.size>0)),e.getUiDismissedSelector=e=>t=>A(t,e.active_user).uiDismissed,e.getUiExpandedSelector=e=>t=>A(t,e.active_user).uiExpanded,e.getUploadActionCreators=function(e){return J(e).actions},e.getUploadBatchAppend=Y,e.getUploadById=(e,t,o)=>{let r;if(o){r=L(t)(e).get(o)}return r},e.getUploadLocationMetadataToLog=function(e,o){return{root_folder:""===t.normalize(o),member_folder:x(e,o),folder_level:t.normalize(o).split("/").length}},e.getUploadModalTypeSelector=e=>t=>A(t,e.active_user).uploadModalType,e.getUploadSchedulerType=async()=>"ON"===await Y()?"batch_append_uploader":"session_uploader",e.getUserSelector=M,e.isFileUploadDetailedRow=e=>void 0!==e.isFromFolderUpload,e.isInMemberFolder=x,e.isMovingIntoVaultSelector=e=>t=>A(t,e.active_user).isMovingIntoVault,e.isMultifolderUpload=function(t,o){const r=z(t.filter((t=>e.FileStatusType.SET_PERMISSIONS===t.status)),o);return!r.every((e=>e===r[0]))},e.isPermissionsAtUploadModalOpen=(e,t)=>A(e,t.active_user).isPermissionsAtUploadModalOpen,e.isUploadCancelled=(t,o,r)=>{const a=L(o)(t).get(r);return!!a&&a.status===e.FileStatusType.CANCELLED},e.isUploadInProgressSelector=o=>t.createSelector$1(L(o),(t=>t.some((t=>t.status===e.FileStatusType.UPLOADING||t.status===e.FileStatusType.PENDING)))),e.isUploadInTmf=function(o,r){if(!r.cdm_tmf_path)return!1;const a=o.filter((t=>e.FileStatusType.SET_PERMISSIONS===t.status)),s=t.normalize(r.cdm_tmf_path);return a.some((e=>e.dest===s||t.inSubDirectory(s,e.dest)))},e.logMediaFileToUserSurvey=e=>{const o=e.lastIndexOf(".");if(-1===o)return;const r=e.slice(o);t.AUDIO_EXTS.includes(r)?t.UserSurvey.trackEvent("upload_audio_item","browse"):t.PHOTO_EXTS.includes(r)?t.UserSurvey.trackEvent("upload_photo_item","browse"):t.TRANSCODE_VIDEO_EXTS.includes(r)&&t.UserSurvey.trackEvent("upload_video_item","browse")},e.makeUploadOrMoveSnippet=(e,t,o,r,a)=>{let s;return a.is_paired&&t.is_team&&(s=a.team_name),a.is_paired?t.is_team?H(r,o,e,s):Q(r,o,e):K(r,o,e)},e.statesMap=I,e.uploadContainsFolder=function(t,o){const r=t.filter((t=>e.FileStatusType.SET_PERMISSIONS===t.status)),a=G(o);return z(r,o).some((e=>G(e)>a))},e.useDebouncedProgress=function(e){const[t,r]=o.useState(e),[a,s]=o.useState(0);return o.useEffect((()=>{t!==e&&(Date.now()-a>333||100===e||0===t)&&(r(e),s(Date.now()))}),[a,e,t]),t}}));
//# sourceMappingURL=c_data_store.js-vflnOQZRx.map

//# debugId=1d55f40b-3330-3b0c-b38c-8091f12314f9